import{S as re,P as ke,W as Be,a as Ce,b as Z,c as qe,T as $,R as je,V as v,d as Oe,e as Fe,A as Ve,D as Xe,M as f,F as We,f as se,g as J,h as Q,i as P,C as Ye,j as ce,L as Y,k as de,l as ue,B as le,m as He,n as _e,o as Ge,E as M,p as Ne,q as me,r as he,s as Ze,t as $e}from"./vendor-RR7FcNXs.js";import{initializeApp as Je}from"https://www.gstatic.com/firebasejs/10.12.1/firebase-app.js";import{getAnalytics as Qe}from"https://www.gstatic.com/firebasejs/10.12.1/firebase-analytics.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();let h,r,S,H,A,R,_;const pe={width:window.innerWidth,height:window.innerHeight},K=new v(0,10,0);function Ke(){h=new re}function et(){r=new ke(75,window.innerWidth/window.innerHeight,.1,1e3),r.position.set(K.x,K.y,K.z)}function tt(){const e=document.getElementById("canvasContainer");S=new Be({canvas:e,antialias:!0}),S.setSize(pe.width,pe.height),S.setPixelRatio(window.devicePixelRatio)}function nt(){document.getElementById("canvasContainer")?(H=new Ce(r,document.body),h.add(H.getObject())):console.error("Canvas element not found")}function ot(){const e=new Z(1e4,1e4);A=new qe(e,{textureWidth:512,textureHeight:512,waterNormals:new $().load(new URL(""+new URL("waternormals-Dfm-ILpY.jpg",import.meta.url).href,import.meta.url).toString(),t=>{t.wrapS=t.wrapT=je}),sunDirection:new v,sunColor:16777215,waterColor:7695,distortionScale:3.7,fog:h.fog!==void 0}),A.rotation.x=-Math.PI/2,h.add(A)}function it(){R=new Oe,R.scale.setScalar(1e4),h.add(R);const e=R.material.uniforms;e.turbidity.value=1,e.rayleigh.value=2,e.mieCoefficient.value=.01,e.mieDirectionalG.value=.8,at()}function at(){const e={elevation:2,azimuth:180},t=new Fe(S),n=new re;let o;const a=f.degToRad(90-e.elevation),i=f.degToRad(e.azimuth);_=new v,_.setFromSphericalCoords(1,a,i),R.material.uniforms.sunPosition.value.copy(_),A.material.uniforms.sunDirection.value.copy(_).normalize(),o!==void 0&&o.dispose(),n.add(R),o=t.fromScene(n),h.add(R),h.environment=o.texture}function rt(){const e=new Ve(16777215,.5);h.add(e);const t=new Xe(16777215,.4);t.position.set(1,.55,5),h.add(t)}const st=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,ct=`
  uniform sampler2D videoTexture;
  varying vec2 vUv;
  void main() {
    vec2 uv = vUv;
    gl_FragColor = texture2D(videoTexture, uv);
  }
`,fe=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,we=`
    uniform sampler2D videoTexture;
    varying vec2 vUv;
    void main() {
      vec2 uv = vUv;
      uv.x = 1.0 - uv.x; // \u6C34\u5E73\u65B9\u5411\u306B\u53CD\u8EE2
      gl_FragColor = texture2D(videoTexture, uv);
    }
`;let I,b;const z=[],k=[],ve=[],B=[],ye=[];function C(e,t,n,o,a,i,u,s,l){const d=document.createElement("video");d.src=s,d.loop=!0,d.muted=!0,d.crossOrigin="anonymous",d.play();const c=new se(d),m=new J({uniforms:{videoTexture:{value:c}},vertexShader:st,fragmentShader:ct,side:Q}),w=new Z(e,t),y=new P(w,m);y.position.copy(a),y.rotation.copy(i),y.userData.contentId=u,h.add(y),z.push(y);const g=document.createElement("canvas"),E=g.getContext("2d");g.width=512,g.height=512,E.font="64px sans-serif",E.fillStyle=n,E.lineWidth=3,E.strokeStyle=o,E.textAlign="center",E.textBaseline="middle",E.fillText(l,256,256);const Te=new Ye(g),Ae=new ce({map:Te,transparent:!0}),ze=new Z(e,t),W=new P(ze,Ae);return W.position.copy(a),W.rotation.copy(i),W.position.z+=i.y>Math.PI/2&&i.y<3*Math.PI/2?-.1:.1,h.add(W),y}function ee(e,t,n,o,a,i){const u=document.createElement("video");u.src=o,u.loop=!0,u.muted=!0,u.crossOrigin="anonymous",u.pause();const s=new se(u);s.minFilter=Y,s.magFilter=Y,s.format=de;const l=new ue(e,32,32),d=new J({uniforms:{videoTexture:{value:s}},vertexShader:fe,fragmentShader:we,side:le}),c=new P(l,d);c.position.copy(t),c.rotation.copy(n),c.userData={video:u,isPlaying:!1,radius:e},h.add(c),k.push(c),ve.push(t.clone()),xe(a,i,1,0).forEach((w,y)=>{w.position.set(t.x,t.y,t.z),w.rotation.set(n.x,n.y,n.z),h.add(w),c.userData[`textMesh${y}`]=w});const m=Me(t,n,e,5,2,5);return c.userData.metalBox=m,c}function ge(e,t,n,o,a,i){const u=new $;u.setCrossOrigin("anonymous"),u.load(o,s=>{s.minFilter=Y,s.magFilter=Y,s.format=de;const l=new J({uniforms:{videoTexture:{value:s}},vertexShader:fe,fragmentShader:we,side:le}),d=new ue(e,32,32),c=new P(d,l);c.position.copy(t),c.rotation.copy(n),c.userData={isImage:!0,radius:e},h.add(c),B.push(c),ye.push(t.clone()),xe(a,i,1,0).forEach((w,y)=>{w.position.set(t.x,t.y,t.z),w.rotation.set(n.x,n.y,n.z),h.add(w),c.userData[`textMesh${y}`]=w});const m=Me(t,n,e,5,2,5);c.userData.metalBox=m})}function xe(e,t,n,o){const a=e.split("").map(u=>{const s=new He(u,{font:t,size:n,depth:.5}),l=new ce({color:o,side:Q});return new P(s,l)}),i=n*.6;return a.forEach((u,s)=>{u.position.x=s*i}),a}function Me(e,t,n,o,a,i){const u=new _e(o,a,i),s=new $,l=new Ge({side:Q,roughness:.2,metalness:.7,metalnessMap:s.load(new URL(""+new URL("stone-CjpFpks5.jpg",import.meta.url).href,import.meta.url).toString()),emissive:3355443,emissiveIntensity:.4}),d=new P(u,l);return d.position.copy(e),d.position.set(e.x,e.y-(n+a/2+.1),e.z),d.rotation.copy(t),h.add(d),d}function dt(){const e=new We;e.setResourcePath(new URL("/models/Drone_Costum/Teturizer/",import.meta.url).toString()),e.load(new URL(""+new URL("drone_costum-DJmc3HXv.fbx",import.meta.url).href,import.meta.url).toString(),t=>{t.scale.set(.015,.015,.015),I=t,b=t.clone(),h.add(I),h.add(b)})}const p=50;function ut(){C(20,10,"#fff","#000",new v(-p*Math.sin(36*(Math.PI/180)),7,-p*Math.sin(54*(Math.PI/180))),new M(0,f.degToRad(36),0),"content0",new URL(""+new URL("unity-CzQo0H4V.mp4",import.meta.url).href,import.meta.url).toString(),"Profile"),C(20,10,"#fff","#000",new v(-p*Math.sin(72*(Math.PI/180)),7,p*Math.sin(18*(Math.PI/180))),new M(0,f.degToRad(108),0),"content1",new URL(""+new URL("glasgow-DdGekOAD.mp4",import.meta.url).href,import.meta.url).toString(),"Experience"),C(20,10,"#fff","#000",new v(0,7,p),new M(0,f.degToRad(180),0),"content2",new URL(""+new URL("brain-BariFs9z.mp4",import.meta.url).href,import.meta.url).toString(),"Education"),C(20,10,"#fff","#000",new v(p*Math.sin(72*(Math.PI/180)),7,p*Math.sin(18*(Math.PI/180))),new M(0,f.degToRad(252),0),"content3",new URL(""+new URL("labMeetingVR-BhJ4cuSZ.mp4",import.meta.url).href,import.meta.url).toString(),"Publication"),C(20,10,"#fff","#000",new v(p*Math.sin(36*(Math.PI/180)),7,-p*Math.sin(54*(Math.PI/180))),new M(0,f.degToRad(324),0),"content4",new URL(""+new URL("teamLab-bAjd3bjn.mp4",import.meta.url).href,import.meta.url).toString(),"Link")}function lt(){ee(5,new v(0,8,-p),new M(0,0,0),new URL(""+new URL("tourEiffel3d_st-D3ilD-n_.MP4",import.meta.url).href,import.meta.url).toString(),"Paris Video",T),ee(5,new v(p*Math.sin(72*(Math.PI/180)),8,-p*Math.sin(18*(Math.PI/180))),new M(0,f.degToRad(288),0),new URL(""+new URL("cruiseThai3d-ChPmiQXw.mp4",import.meta.url).href,import.meta.url).toString(),"Bangkok Video",T),ee(5,new v(-p*Math.sin(72*(Math.PI/180)),8,-p*Math.sin(18*(Math.PI/180))),new M(0,f.degToRad(72),0),new URL(""+new URL("warsawOld23d_st-CsOOhhWi.MP4",import.meta.url).href,import.meta.url).toString(),"Warsaw Video",T)}function mt(){ge(5,new v(-p*Math.sin(36*(Math.PI/180)),8,p*Math.sin(54*(Math.PI/180))),new M(0,f.degToRad(144),0),new URL(""+new URL("vitre-CSAeGasA.JPG",import.meta.url).href,import.meta.url).toString(),"Vitre Photo",T),ge(5,new v(p*Math.sin(36*(Math.PI/180)),8,p*Math.sin(54*(Math.PI/180))),new M(0,f.degToRad(216),0),new URL(""+new URL("singapore-fcHVq9ns.JPG",import.meta.url).href,import.meta.url).toString(),"Singapore Photo",T)}let q=!1,j=!1,O=!1,F=!1;function Le(){const e=new M(0,r.rotation.y,0,"YXZ");r.rotation.copy(e)}function ht(e){r.fov+=e.deltaY*.05,r.fov=Math.max(20,Math.min(120,r.fov)),r.updateProjectionMatrix()}function pt(e){if(e.touches.length==2){const t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);if(this.lastTouchDistance!==void 0){const a=o-this.lastTouchDistance;r.fov-=a*.1,r.fov=Math.max(20,Math.min(120,r.fov)),r.updateProjectionMatrix()}this.lastTouchDistance=o}}function ft(){this.lastTouchDistance=void 0}function wt(){const e=document.getElementById("joystickContainer");if(e){const t=Ne.create({zone:e,mode:"static",position:{left:"50%",bottom:"50%"},color:"#fff"});t.on("start",()=>{Le()}),t.on("move",(n,o)=>{q=o.direction.y==="up",j=o.direction.y==="down",O=o.direction.x==="left",F=o.direction.x==="right"}),t.on("end",()=>{q=j=O=F=!1})}}function vt(e){switch(Le(),e.key){case"w":case"ArrowUp":q=!0;break;case"s":case"ArrowDown":j=!0;break;case"a":case"ArrowLeft":O=!0;break;case"d":case"ArrowRight":F=!0;break}}function yt(e){switch(e.key){case"w":case"ArrowUp":q=!1;break;case"s":case"ArrowDown":j=!1;break;case"a":case"ArrowLeft":O=!1;break;case"d":case"ArrowRight":F=!1;break}}function te(e,t,n){const o=r.position.clone(),a=r.rotation.clone(),i=performance.now(),u=new v(0,0,20).applyEuler(t),s=e.clone().add(u);function l(d){const c=d-i,m=Math.min(c/300,1);r.position.lerpVectors(o,s,m),r.rotation.set(f.lerp(a.x,t.x,m),f.lerp(a.y,t.y,m),f.lerp(a.z,t.z,m)),m<1?requestAnimationFrame(l):n()}requestAnimationFrame(l)}function gt(e,t,n){const o=r.position.clone(),a=r.rotation.clone(),i=performance.now(),u=e.clone();function s(l){const d=l-i,c=Math.min(d/300,1);r.position.lerpVectors(o,u,c),r.rotation.set(f.lerp(a.x,t.x,c),f.lerp(a.y,t.y,c),f.lerp(a.z,t.z,c)),c<1?requestAnimationFrame(s):n()}requestAnimationFrame(s)}let V=!1;function xt(e){I&&b&&(I.position.x=100*Math.sin(e*.5)+5*Math.cos(e*1.2),I.position.y=60+5*Math.sin(e*.7),I.position.z=-200*Math.cos(e*.3)+-5*Math.sin(e*1.5),b.position.x=-50*Math.sin(e*.5)-10*Math.cos(e*1.2),b.position.y=90+10*Math.sin(e*.7),b.position.z=100*Math.cos(e*.3)+10*Math.sin(e*1.5))}function Mt(e){q&&e.moveForward(.2),j&&e.moveForward(-.2),O&&e.moveRight(-.2),F&&e.moveRight(.2)}function Lt(e,t,n,o,a){e.forEach((i,u)=>{const s=t[u],l=o*Math.sin(a*n);if(V=r.position.distanceTo(i.position)<i.userData.radius,V?i.userData.isPlaying||(i.userData.video.play(),i.userData.isPlaying=!0):i.userData.isPlaying&&(i.userData.video.pause(),i.userData.isPlaying=!1),V)i.position.y=s.y,i.userData.metalBox&&(i.userData.metalBox.position.y=s.y-i.userData.radius-1);else{if(i.position.y=s.y+l,i.userData.metalBox){const d=i.geometry.parameters.radius;i.userData.metalBox.position.set(s.x,s.y-d-2+l,s.z)}Object.keys(i.userData).forEach(d=>{if(d.startsWith("textMesh")){const c=i.userData[d],m=6,w=1.5,y=parseInt(d.replace("textMesh",""),10),g=w*n-y*.2;c.position.x=i.position.x+m*Math.cos(g),c.position.z=i.position.z+m*Math.sin(g),c.position.y=i.position.y+m*Math.sin(g)}})}})}function Dt(e,t,n,o,a){e.forEach((i,u)=>{const s=t[u],l=o*Math.sin(a*n);if(V=r.position.distanceTo(i.position)<i.userData.radius,V)i.position.y=s.y,i.userData.metalBox&&(i.userData.metalBox.position.y=s.y-i.userData.radius-1);else{if(i.position.y=s.y+l,i.userData.metalBox){const d=i.geometry.parameters.radius;i.userData.metalBox.position.set(s.x,s.y-d-2+l,s.z)}Object.keys(i.userData).forEach(d=>{if(d.startsWith("textMesh")){const c=i.userData[d],m=6,w=1.5,y=parseInt(d.replace("textMesh",""),10),g=w*n-y*.2;c.position.x=i.position.x+m*Math.cos(g),c.position.z=i.position.z+m*Math.sin(g),c.position.y=i.position.y+m*Math.sin(g)}})}})}function ne(e){const t=document.getElementById("overlay");if(t){t.classList.add("active"),document.querySelectorAll(".content-item").forEach(a=>a.classList.remove("active"));const n=document.getElementById(e);n?n.classList.add("active"):console.error(`Content with ID ${e} not found.`),document.querySelectorAll(".tab").forEach(a=>a.classList.remove("active"));const o=document.querySelector(`[id="tab${e.replace("content","")}"]`);o?o.classList.add("active"):console.error(`Tab for content ID ${e} not found.`)}else console.error("Overlay not found.")}function De(){const e=document.getElementById("overlay");e&&(e.classList.remove("active"),document.querySelectorAll(".content-item").forEach(t=>t.classList.remove("active")))}function Et(e){if(G())return;const t=z.find(n=>n.userData.contentId===e);if(t){N(!0);const n=t.rotation.clone();te(t.position,n,()=>{ne(e),N(!1)})}}const St=()=>{if(G())return;const e=document.querySelector(".content-item.active"),t=Array.from(document.querySelectorAll(".content-item"));if(!e)return;const n=(t.indexOf(e)+1)%t.length,o=t[n];o&&Ee(o.id)},Rt=()=>{if(G())return;const e=document.querySelector(".content-item.active"),t=Array.from(document.querySelectorAll(".content-item"));if(!e)return;const n=(t.indexOf(e)-1+t.length)%t.length,o=t[n];o&&Ee(o.id)},Ee=e=>{const t=Pt(e);if(t){N(!0);const n=t.rotation.clone();te(t.position,n,()=>{ne(e),N(!1)})}},Pt=e=>{const t=[...k,...B,...z];for(const n of t)if(n.userData.contentId===e)return n;return null},It=e=>{document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".tab").forEach(n=>{n.addEventListener("click",()=>{if(G())return;const o=n.id.replace("tab","content");e(o)})}),document.querySelectorAll(".next-button").forEach(n=>{n.addEventListener("click",St)}),document.querySelectorAll(".prev-button").forEach(n=>{n.addEventListener("click",Rt)});const t=document.getElementById("overlay");t==null||t.addEventListener("click",n=>{n.target===t&&De()}),document.getElementById("close-button").addEventListener("click",De)})};let bt=!1,Ut=!1,X=!1;const Se=new me,oe=new he;function Re(e,t){if(X||bt||Ut)return;oe.x=e/window.innerWidth*2-1,oe.y=-(t/window.innerHeight)*2+1,Se.setFromCamera(oe,r);const n=Se.intersectObjects([...k,...B,...z]);if(n.length>0){const o=n[0].object;if(o.userData.video||o.userData.isImage)X=!0,o.position.clone(),gt(o.position,o.rotation,()=>{X=!1});else if(document.getElementById("overlay")){const a=o.userData.contentId;if(a){X=!0;const i=o.rotation.clone();te(o.position,i,()=>{ne(a),X=!1})}}}}const U={width:window.innerWidth,height:window.innerHeight},ie=new v(0,10,0);let L=!1,D=null,x={x:0,y:0};const Pe=new me,ae=new he;function Tt(e){if(L){const t=e.clientX-x.x,n=e.clientY-x.y;x={x:e.clientX,y:e.clientY},r.rotation.order="YXZ",r.rotation.y-=t*.005,r.rotation.x-=n*.005}}function At(e){L=!1,x={x:e.clientX,y:e.clientY},D=window.setTimeout(()=>{L=!0},150)}function Ie(){D!==null&&(clearTimeout(D),D=null),L||Re(x.x,x.y),L=!1}function zt(e){if(L&&e.touches.length===1){const t=e.touches[0].clientX-x.x,n=e.touches[0].clientY-x.y;x={x:e.touches[0].clientX,y:e.touches[0].clientY},r.rotation.order="YXZ",r.rotation.y-=t*.005,r.rotation.x-=n*.005}}function kt(e){e.touches.length===1&&(L=!1,x={x:e.touches[0].clientX,y:e.touches[0].clientY},D=window.setTimeout(()=>{L=!0},100))}function be(){D!==null&&(clearTimeout(D),D=null),L||Re(x.x,x.y),L=!1}function Bt(){U.width=window.innerWidth,U.height=window.innerHeight,r.aspect=U.width/U.height,r.updateProjectionMatrix(),S.setSize(U.width,U.height),S.setPixelRatio(window.devicePixelRatio)}function Ct(e){ae.x=e.clientX/window.innerWidth*2-1,ae.y=-(e.clientY/window.innerHeight)*2+1,Pe.setFromCamera(ae,r);const t=Pe.intersectObjects([...k,...B,...z]);document.body.style.cursor=t.length>0?"pointer":"default"}function qt(){const e=document.getElementById("canvasContainer");e.addEventListener("mousedown",At,{passive:!0}),e.addEventListener("mousemove",Tt,{passive:!0}),e.addEventListener("mouseup",Ie,{passive:!0}),e.addEventListener("mouseleave",Ie,{passive:!0}),e.addEventListener("touchstart",kt,{passive:!0}),e.addEventListener("touchmove",zt,{passive:!0}),e.addEventListener("touchend",be,{passive:!0}),e.addEventListener("touchcancel",be,{passive:!0}),document.addEventListener("keydown",vt,{passive:!0}),document.addEventListener("keyup",yt,{passive:!0}),e.addEventListener("wheel",ht,{passive:!0}),e.addEventListener("touchmove",pt,{passive:!0}),e.addEventListener("touchend",ft,{passive:!0});function t(o){r.fov=o,r.updateProjectionMatrix()}const n=document.querySelector(".header");n&&n.addEventListener("click",()=>{r.position.set(ie.x,ie.y,ie.z),r.rotation.set(0,0,0),t(75)}),window.addEventListener("resize",Bt),window.addEventListener("mousemove",Ct),wt()}function jt(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion").forEach(e=>{const t=e.querySelector(".accordion-header"),n=e.querySelector(".accordion-content"),o=e.querySelector(".accordion-toggle");t&&n&&o&&t.addEventListener("click",()=>{n.classList.contains("active")?(n.classList.remove("active"),o.innerHTML="&#9650;"):(n.classList.add("active"),o.innerHTML="&#9660;")})})})}let T,Ue=!1;function G(){return Ue}function N(e){Ue=e}function Ot(){try{Ke(),et(),tt(),nt(),ot(),it(),jt(),qt(),Ft(),Xt(),It(Et)}catch(e){console.error("Initialization error:",e)}}function Ft(){new Ze().load(new URL(""+new URL("helvetiker_regular.typeface-yAIZwh9g.json",import.meta.url).href,import.meta.url).toString(),e=>{T=e,Vt()})}function Vt(){ut(),lt(),mt(),dt(),rt()}function Xt(){const e=new $e;function t(){const n=e.getElapsedTime(),o=1.5,a=1;xt(n),Lt(k,ve,n,o,a),Dt(B,ye,n,o,a),H&&Mt(H),S.render(h,r),requestAnimationFrame(t),A.material.uniforms.time.value+=1/60}t()}Ot();const Wt={apiKey:"AIzaSyC9N9indfhDVY67-U8Xr8l9W6QyVR7am1s",authDomain:"shimada-web3d.firebaseapp.com",projectId:"shimada-web3d",storageBucket:"shimada-web3d.appspot.com",messagingSenderId:"766434889080",appId:"1:766434889080:web:3f5ef3a3d8ce532b70cc8d",measurementId:"G-MV6S3572EN"},Yt=Je(Wt);Qe(Yt);
