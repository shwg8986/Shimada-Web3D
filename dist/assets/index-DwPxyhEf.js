import{S as re,P as Ae,W as qe,a as Be,b as $,c as Ce,T as J,R as je,V as v,d as Oe,e as Fe,A as Xe,D as Ye,M as p,F as We,f as se,g as N,h as Q,i as P,C as He,j as ce,L as H,k as ue,l as de,B as le,m as Ve,n as _e,o as Ge,E as M,p as Ze,q as me,r as he,s as $e,t as Je}from"./vendor-RR7FcNXs.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();let h,r,R,V,k,S,_;const fe={width:window.innerWidth,height:window.innerHeight},K=new v(0,10,0);function Ne(){h=new re}function Qe(){r=new Ae(75,window.innerWidth/window.innerHeight,.1,1e3),r.position.set(K.x,K.y,K.z)}function Ke(){const e=document.getElementById("canvasContainer");R=new qe({canvas:e,antialias:!0}),R.setSize(fe.width,fe.height),R.setPixelRatio(window.devicePixelRatio)}function et(){document.getElementById("canvasContainer")?(V=new Be(r,document.body),h.add(V.getObject())):console.error("Canvas element not found")}function tt(){const e=new $(1e4,1e4);k=new Ce(e,{textureWidth:512,textureHeight:512,waterNormals:new J().load(new URL(""+new URL("waternormals-Dfm-ILpY.jpg",import.meta.url).href,import.meta.url).toString(),t=>{t.wrapS=t.wrapT=je}),sunDirection:new v,sunColor:16777215,waterColor:7695,distortionScale:3.7,fog:h.fog!==void 0}),k.rotation.x=-Math.PI/2,h.add(k)}function nt(){S=new Oe,S.scale.setScalar(1e4),h.add(S);const e=S.material.uniforms;e.turbidity.value=1,e.rayleigh.value=2,e.mieCoefficient.value=.01,e.mieDirectionalG.value=.8,ot()}function ot(){const e={elevation:2,azimuth:180},t=new Fe(R),n=new re;let o;const a=p.degToRad(90-e.elevation),i=p.degToRad(e.azimuth);_=new v,_.setFromSphericalCoords(1,a,i),S.material.uniforms.sunPosition.value.copy(_),k.material.uniforms.sunDirection.value.copy(_).normalize(),o!==void 0&&o.dispose(),n.add(S),o=t.fromScene(n),h.add(S),h.environment=o.texture}function it(){const e=new Xe(16777215,.5);h.add(e);const t=new Ye(16777215,.4);t.position.set(1,.55,5),h.add(t)}const at=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,rt=`
  uniform sampler2D videoTexture;
  varying vec2 vUv;
  void main() {
    vec2 uv = vUv;
    gl_FragColor = texture2D(videoTexture, uv);
  }
`,pe=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,we=`
    uniform sampler2D videoTexture;
    varying vec2 vUv;
    void main() {
      vec2 uv = vUv;
      uv.x = 1.0 - uv.x; // \u6C34\u5E73\u65B9\u5411\u306B\u53CD\u8EE2
      gl_FragColor = texture2D(videoTexture, uv);
    }
`;let I,U;const z=[],A=[],ve=[],q=[],ye=[];function B(e,t,n,o,a,i,d,s,l){const u=document.createElement("video");u.src=s,u.loop=!0,u.muted=!0,u.crossOrigin="anonymous",u.play();const c=new se(u),m=new N({uniforms:{videoTexture:{value:c}},vertexShader:at,fragmentShader:rt,side:Q}),w=new $(e,t),y=new P(w,m);y.position.copy(a),y.rotation.copy(i),y.userData.contentId=d,h.add(y),z.push(y);const g=document.createElement("canvas"),E=g.getContext("2d");g.width=512,g.height=512,E.font="64px sans-serif",E.fillStyle=n,E.lineWidth=3,E.strokeStyle=o,E.textAlign="center",E.textBaseline="middle",E.fillText(l,256,256);const Te=new He(g),ke=new ce({map:Te,transparent:!0}),ze=new $(e,t),W=new P(ze,ke);return W.position.copy(a),W.rotation.copy(i),W.position.z+=i.y>Math.PI/2&&i.y<3*Math.PI/2?-.1:.1,h.add(W),y}function ee(e,t,n,o,a,i){const d=document.createElement("video");d.src=o,d.loop=!0,d.muted=!0,d.crossOrigin="anonymous",d.pause();const s=new se(d);s.minFilter=H,s.magFilter=H,s.format=ue;const l=new de(e,32,32),u=new N({uniforms:{videoTexture:{value:s}},vertexShader:pe,fragmentShader:we,side:le}),c=new P(l,u);c.position.copy(t),c.rotation.copy(n),c.userData={video:d,isPlaying:!1,radius:e},h.add(c),A.push(c),ve.push(t.clone()),xe(a,i,1,0).forEach((w,y)=>{w.position.set(t.x,t.y,t.z),w.rotation.set(n.x,n.y,n.z),h.add(w),c.userData[`textMesh${y}`]=w});const m=Me(t,n,e,5,2,5);return c.userData.metalBox=m,c}function ge(e,t,n,o,a,i){const d=new J;d.setCrossOrigin("anonymous"),d.load(o,s=>{s.minFilter=H,s.magFilter=H,s.format=ue;const l=new N({uniforms:{videoTexture:{value:s}},vertexShader:pe,fragmentShader:we,side:le}),u=new de(e,32,32),c=new P(u,l);c.position.copy(t),c.rotation.copy(n),c.userData={isImage:!0,radius:e},h.add(c),q.push(c),ye.push(t.clone()),xe(a,i,1,0).forEach((w,y)=>{w.position.set(t.x,t.y,t.z),w.rotation.set(n.x,n.y,n.z),h.add(w),c.userData[`textMesh${y}`]=w});const m=Me(t,n,e,5,2,5);c.userData.metalBox=m})}function xe(e,t,n,o){const a=e.split("").map(d=>{const s=new Ve(d,{font:t,size:n,depth:.5}),l=new ce({color:o,side:Q});return new P(s,l)}),i=n*.6;return a.forEach((d,s)=>{d.position.x=s*i}),a}function Me(e,t,n,o,a,i){const d=new _e(o,a,i),s=new J,l=new Ge({side:Q,roughness:.2,metalness:.7,metalnessMap:s.load(new URL(""+new URL("stone-CjpFpks5.jpg",import.meta.url).href,import.meta.url).toString()),emissive:3355443,emissiveIntensity:.4}),u=new P(d,l);return u.position.copy(e),u.position.set(e.x,e.y-(n+a/2+.1),e.z),u.rotation.copy(t),h.add(u),u}function st(){const e=new We;e.setResourcePath(new URL("/models/Drone_Costum/Teturizer/",import.meta.url).toString()),e.load(new URL(""+new URL("drone_costum-DJmc3HXv.fbx",import.meta.url).href,import.meta.url).toString(),t=>{t.scale.set(.015,.015,.015),I=t,U=t.clone(),h.add(I),h.add(U)})}const f=50;function ct(){B(20,10,"#fff","#000",new v(-f*Math.sin(36*(Math.PI/180)),7,-f*Math.sin(54*(Math.PI/180))),new M(0,p.degToRad(36),0),"content0",new URL(""+new URL("unity-CzQo0H4V.mp4",import.meta.url).href,import.meta.url).toString(),"Profile"),B(20,10,"#fff","#000",new v(-f*Math.sin(72*(Math.PI/180)),7,f*Math.sin(18*(Math.PI/180))),new M(0,p.degToRad(108),0),"content1",new URL(""+new URL("glasgow-DdGekOAD.mp4",import.meta.url).href,import.meta.url).toString(),"Experience"),B(20,10,"#fff","#000",new v(0,7,f),new M(0,p.degToRad(180),0),"content2",new URL(""+new URL("brain-BariFs9z.mp4",import.meta.url).href,import.meta.url).toString(),"Education"),B(20,10,"#fff","#000",new v(f*Math.sin(72*(Math.PI/180)),7,f*Math.sin(18*(Math.PI/180))),new M(0,p.degToRad(252),0),"content3",new URL(""+new URL("labMeetingVR-BhJ4cuSZ.mp4",import.meta.url).href,import.meta.url).toString(),"Publication"),B(20,10,"#fff","#000",new v(f*Math.sin(36*(Math.PI/180)),7,-f*Math.sin(54*(Math.PI/180))),new M(0,p.degToRad(324),0),"content4",new URL(""+new URL("teamLab-bAjd3bjn.mp4",import.meta.url).href,import.meta.url).toString(),"Link")}function ut(){ee(5,new v(0,8,-f),new M(0,0,0),new URL(""+new URL("tourEiffel3d_st-D3ilD-n_.MP4",import.meta.url).href,import.meta.url).toString(),"Paris Video",T),ee(5,new v(f*Math.sin(72*(Math.PI/180)),8,-f*Math.sin(18*(Math.PI/180))),new M(0,p.degToRad(288),0),new URL(""+new URL("cruiseThai3d-ChPmiQXw.mp4",import.meta.url).href,import.meta.url).toString(),"Bangkok Video",T),ee(5,new v(-f*Math.sin(72*(Math.PI/180)),8,-f*Math.sin(18*(Math.PI/180))),new M(0,p.degToRad(72),0),new URL(""+new URL("warsawOld23d_st-CsOOhhWi.MP4",import.meta.url).href,import.meta.url).toString(),"Warsaw Video",T)}function dt(){ge(5,new v(-f*Math.sin(36*(Math.PI/180)),8,f*Math.sin(54*(Math.PI/180))),new M(0,p.degToRad(144),0),new URL(""+new URL("vitre-CSAeGasA.JPG",import.meta.url).href,import.meta.url).toString(),"Vitre Photo",T),ge(5,new v(f*Math.sin(36*(Math.PI/180)),8,f*Math.sin(54*(Math.PI/180))),new M(0,p.degToRad(216),0),new URL(""+new URL("singapore-fcHVq9ns.JPG",import.meta.url).href,import.meta.url).toString(),"Singapore Photo",T)}let C=!1,j=!1,O=!1,F=!1;function Le(){const e=new M(0,r.rotation.y,0,"YXZ");r.rotation.copy(e)}function lt(e){r.fov+=e.deltaY*.05,r.fov=Math.max(20,Math.min(120,r.fov)),r.updateProjectionMatrix()}function mt(e){if(e.touches.length==2){const t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);if(this.lastTouchDistance!==void 0){const a=o-this.lastTouchDistance;r.fov-=a*.1,r.fov=Math.max(20,Math.min(120,r.fov)),r.updateProjectionMatrix()}this.lastTouchDistance=o}}function ht(){this.lastTouchDistance=void 0}function ft(){const e=document.getElementById("joystickContainer");if(e){const t=Ze.create({zone:e,mode:"static",position:{left:"50%",bottom:"50%"},color:"#fff"});t.on("start",()=>{Le()}),t.on("move",(n,o)=>{C=o.direction.y==="up",j=o.direction.y==="down",O=o.direction.x==="left",F=o.direction.x==="right"}),t.on("end",()=>{C=j=O=F=!1})}}function pt(e){switch(Le(),e.key){case"w":case"ArrowUp":C=!0;break;case"s":case"ArrowDown":j=!0;break;case"a":case"ArrowLeft":O=!0;break;case"d":case"ArrowRight":F=!0;break}}function wt(e){switch(e.key){case"w":case"ArrowUp":C=!1;break;case"s":case"ArrowDown":j=!1;break;case"a":case"ArrowLeft":O=!1;break;case"d":case"ArrowRight":F=!1;break}}function te(e,t,n){const o=r.position.clone(),a=r.rotation.clone(),i=performance.now(),d=new v(0,0,20).applyEuler(t),s=e.clone().add(d);function l(u){const c=u-i,m=Math.min(c/300,1);r.position.lerpVectors(o,s,m),r.rotation.set(p.lerp(a.x,t.x,m),p.lerp(a.y,t.y,m),p.lerp(a.z,t.z,m)),m<1?requestAnimationFrame(l):n()}requestAnimationFrame(l)}function vt(e,t,n){const o=r.position.clone(),a=r.rotation.clone(),i=performance.now(),d=e.clone();function s(l){const u=l-i,c=Math.min(u/300,1);r.position.lerpVectors(o,d,c),r.rotation.set(p.lerp(a.x,t.x,c),p.lerp(a.y,t.y,c),p.lerp(a.z,t.z,c)),c<1?requestAnimationFrame(s):n()}requestAnimationFrame(s)}let X=!1;function yt(e){I&&U&&(I.position.x=100*Math.sin(e*.5)+5*Math.cos(e*1.2),I.position.y=60+5*Math.sin(e*.7),I.position.z=-200*Math.cos(e*.3)+-5*Math.sin(e*1.5),U.position.x=-50*Math.sin(e*.5)-10*Math.cos(e*1.2),U.position.y=90+10*Math.sin(e*.7),U.position.z=100*Math.cos(e*.3)+10*Math.sin(e*1.5))}function gt(e){C&&e.moveForward(.2),j&&e.moveForward(-.2),O&&e.moveRight(-.2),F&&e.moveRight(.2)}function xt(e,t,n,o,a){e.forEach((i,d)=>{const s=t[d],l=o*Math.sin(a*n);if(X=r.position.distanceTo(i.position)<i.userData.radius,X?i.userData.isPlaying||(i.userData.video.play(),i.userData.isPlaying=!0):i.userData.isPlaying&&(i.userData.video.pause(),i.userData.isPlaying=!1),X)i.position.y=s.y,i.userData.metalBox&&(i.userData.metalBox.position.y=s.y-i.userData.radius-1);else{if(i.position.y=s.y+l,i.userData.metalBox){const u=i.geometry.parameters.radius;i.userData.metalBox.position.set(s.x,s.y-u-2+l,s.z)}Object.keys(i.userData).forEach(u=>{if(u.startsWith("textMesh")){const c=i.userData[u],m=6,w=1.5,y=parseInt(u.replace("textMesh",""),10),g=w*n-y*.2;c.position.x=i.position.x+m*Math.cos(g),c.position.z=i.position.z+m*Math.sin(g),c.position.y=i.position.y+m*Math.sin(g)}})}})}function Mt(e,t,n,o,a){e.forEach((i,d)=>{const s=t[d],l=o*Math.sin(a*n);if(X=r.position.distanceTo(i.position)<i.userData.radius,X)i.position.y=s.y,i.userData.metalBox&&(i.userData.metalBox.position.y=s.y-i.userData.radius-1);else{if(i.position.y=s.y+l,i.userData.metalBox){const u=i.geometry.parameters.radius;i.userData.metalBox.position.set(s.x,s.y-u-2+l,s.z)}Object.keys(i.userData).forEach(u=>{if(u.startsWith("textMesh")){const c=i.userData[u],m=6,w=1.5,y=parseInt(u.replace("textMesh",""),10),g=w*n-y*.2;c.position.x=i.position.x+m*Math.cos(g),c.position.z=i.position.z+m*Math.sin(g),c.position.y=i.position.y+m*Math.sin(g)}})}})}function ne(e){const t=document.getElementById("overlay");if(t){t.classList.add("active"),document.querySelectorAll(".content-item").forEach(a=>a.classList.remove("active"));const n=document.getElementById(e);n?n.classList.add("active"):console.error(`Content with ID ${e} not found.`),document.querySelectorAll(".tab").forEach(a=>a.classList.remove("active"));const o=document.querySelector(`[id="tab${e.replace("content","")}"]`);o?o.classList.add("active"):console.error(`Tab for content ID ${e} not found.`)}else console.error("Overlay not found.")}function De(){const e=document.getElementById("overlay");e&&(e.classList.remove("active"),document.querySelectorAll(".content-item").forEach(t=>t.classList.remove("active")))}function Lt(e){if(G())return;const t=z.find(n=>n.userData.contentId===e);if(t){Z(!0);const n=t.rotation.clone();te(t.position,n,()=>{ne(e),Z(!1)})}}const Dt=()=>{if(G())return;const e=document.querySelector(".content-item.active"),t=Array.from(document.querySelectorAll(".content-item"));if(!e)return;const n=(t.indexOf(e)+1)%t.length,o=t[n];o&&Ee(o.id)},Et=()=>{if(G())return;const e=document.querySelector(".content-item.active"),t=Array.from(document.querySelectorAll(".content-item"));if(!e)return;const n=(t.indexOf(e)-1+t.length)%t.length,o=t[n];o&&Ee(o.id)},Ee=e=>{const t=Rt(e);if(t){Z(!0);const n=t.rotation.clone();te(t.position,n,()=>{ne(e),Z(!1)})}},Rt=e=>{const t=[...A,...q,...z];for(const n of t)if(n.userData.contentId===e)return n;return null},St=e=>{document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".tab").forEach(n=>{n.addEventListener("click",()=>{if(G())return;const o=n.id.replace("tab","content");e(o)})}),document.querySelectorAll(".next-button").forEach(n=>{n.addEventListener("click",Dt)}),document.querySelectorAll(".prev-button").forEach(n=>{n.addEventListener("click",Et)});const t=document.getElementById("overlay");t==null||t.addEventListener("click",n=>{n.target===t&&De()}),document.getElementById("close-button").addEventListener("click",De)})};let Pt=!1,It=!1,Y=!1;const Re=new me,oe=new he;function Se(e,t){if(Y||Pt||It)return;oe.x=e/window.innerWidth*2-1,oe.y=-(t/window.innerHeight)*2+1,Re.setFromCamera(oe,r);const n=Re.intersectObjects([...A,...q,...z]);if(n.length>0){const o=n[0].object;if(o.userData.video||o.userData.isImage)Y=!0,o.position.clone(),vt(o.position,o.rotation,()=>{Y=!1});else if(document.getElementById("overlay")){const a=o.userData.contentId;if(a){Y=!0;const i=o.rotation.clone();te(o.position,i,()=>{ne(a),Y=!1})}}}}const b={width:window.innerWidth,height:window.innerHeight},ie=new v(0,10,0);let L=!1,D=null,x={x:0,y:0};const Pe=new me,ae=new he;function Ut(e){if(L){const t=e.clientX-x.x,n=e.clientY-x.y;x={x:e.clientX,y:e.clientY},r.rotation.order="YXZ",r.rotation.y-=t*.005,r.rotation.x-=n*.005}}function bt(e){L=!1,x={x:e.clientX,y:e.clientY},D=window.setTimeout(()=>{L=!0},150)}function Ie(){D!==null&&(clearTimeout(D),D=null),L||Se(x.x,x.y),L=!1}function Tt(e){if(L&&e.touches.length===1){const t=e.touches[0].clientX-x.x,n=e.touches[0].clientY-x.y;x={x:e.touches[0].clientX,y:e.touches[0].clientY},r.rotation.order="YXZ",r.rotation.y-=t*.005,r.rotation.x-=n*.005}}function kt(e){e.touches.length===1&&(L=!1,x={x:e.touches[0].clientX,y:e.touches[0].clientY},D=window.setTimeout(()=>{L=!0},100))}function Ue(){D!==null&&(clearTimeout(D),D=null),L||Se(x.x,x.y),L=!1}function zt(){b.width=window.innerWidth,b.height=window.innerHeight,r.aspect=b.width/b.height,r.updateProjectionMatrix(),R.setSize(b.width,b.height),R.setPixelRatio(window.devicePixelRatio)}function At(e){ae.x=e.clientX/window.innerWidth*2-1,ae.y=-(e.clientY/window.innerHeight)*2+1,Pe.setFromCamera(ae,r);const t=Pe.intersectObjects([...A,...q,...z]);document.body.style.cursor=t.length>0?"pointer":"default"}function qt(){const e=document.getElementById("canvasContainer");e.addEventListener("mousedown",bt,{passive:!0}),e.addEventListener("mousemove",Ut,{passive:!0}),e.addEventListener("mouseup",Ie,{passive:!0}),e.addEventListener("mouseleave",Ie,{passive:!0}),e.addEventListener("touchstart",kt,{passive:!0}),e.addEventListener("touchmove",Tt,{passive:!0}),e.addEventListener("touchend",Ue,{passive:!0}),e.addEventListener("touchcancel",Ue,{passive:!0}),document.addEventListener("keydown",pt,{passive:!0}),document.addEventListener("keyup",wt,{passive:!0}),e.addEventListener("wheel",lt,{passive:!0}),e.addEventListener("touchmove",mt,{passive:!0}),e.addEventListener("touchend",ht,{passive:!0});function t(o){r.fov=o,r.updateProjectionMatrix()}const n=document.querySelector(".header");n&&n.addEventListener("click",()=>{r.position.set(ie.x,ie.y,ie.z),r.rotation.set(0,0,0),t(75)}),window.addEventListener("resize",zt),window.addEventListener("mousemove",At),ft()}function Bt(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion").forEach(e=>{const t=e.querySelector(".accordion-header"),n=e.querySelector(".accordion-content"),o=e.querySelector(".accordion-toggle");t&&n&&o&&t.addEventListener("click",()=>{n.classList.contains("active")?(n.classList.remove("active"),o.innerHTML="&#9650;"):(n.classList.add("active"),o.innerHTML="&#9660;")})})})}let T,be=!1;function G(){return be}function Z(e){be=e}function Ct(){try{Ne(),Qe(),Ke(),et(),tt(),nt(),Bt(),qt(),jt(),Ft(),St(Lt)}catch(e){console.error("Initialization error:",e)}}function jt(){new $e().load(new URL(""+new URL("helvetiker_regular.typeface-yAIZwh9g.json",import.meta.url).href,import.meta.url).toString(),e=>{T=e,Ot()})}function Ot(){ct(),ut(),dt(),st(),it()}function Ft(){const e=new Je;function t(){const n=e.getElapsedTime(),o=1.5,a=1;yt(n),xt(A,ve,n,o,a),Mt(q,ye,n,o,a),V&&gt(V),R.render(h,r),requestAnimationFrame(t),k.material.uniforms.time.value+=1/60}t()}Ct();
